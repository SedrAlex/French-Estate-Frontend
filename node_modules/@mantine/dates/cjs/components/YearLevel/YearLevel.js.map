{"version":3,"file":"YearLevel.js","sources":["../../../src/components/YearLevel/YearLevel.tsx"],"sourcesContent":["import dayjs from 'dayjs';\nimport React, { forwardRef } from 'react';\nimport { Box, DefaultProps, useComponentDefaultProps, Selectors } from '@mantine/core';\nimport {\n  CalendarHeader,\n  CalendarHeaderStylesNames,\n  CalendarHeaderSettings,\n} from '../CalendarHeader';\nimport { useDatesContext } from '../DatesProvider';\nimport { MonthsListSettings, MonthsListStylesNames, MonthsList } from '../MonthsList';\nimport useStyles from './YearLevel.styles';\n\nexport type YearLevelStylesNames =\n  | Selectors<typeof useStyles>\n  | MonthsListStylesNames\n  | CalendarHeaderStylesNames;\n\nexport interface YearLevelBaseSettings extends MonthsListSettings {\n  /** dayjs label format to display year label or a function that returns year label based on year value, defaults to \"YYYY\" */\n  yearLabelFormat?: string | ((year: Date) => React.ReactNode);\n}\n\nexport interface YearLevelSettings extends YearLevelBaseSettings, CalendarHeaderSettings {}\n\nexport interface YearLevelProps\n  extends DefaultProps<YearLevelStylesNames>,\n    YearLevelSettings,\n    React.ComponentPropsWithoutRef<'div'> {\n  variant?: string;\n  __staticSelector?: string;\n\n  /** Year that is currently displayed */\n  year: Date;\n\n  /** aria-label for change level control */\n  levelControlAriaLabel?: string;\n}\n\nconst defaultProps: Partial<YearLevelProps> = {\n  yearLabelFormat: 'YYYY',\n  size: 'sm',\n};\n\nexport const YearLevel = forwardRef<HTMLDivElement, YearLevelProps>((props, ref) => {\n  const {\n    // MonthsList settings\n    year,\n    locale,\n    minDate,\n    maxDate,\n    monthsListFormat,\n    getMonthControlProps,\n    __getControlRef,\n    __onControlKeyDown,\n    __onControlClick,\n    __onControlMouseEnter,\n    withCellSpacing,\n\n    // CalendarHeader settings\n    __preventFocus,\n    nextIcon,\n    previousIcon,\n    nextLabel,\n    previousLabel,\n    onNext,\n    onPrevious,\n    onLevelClick,\n    nextDisabled,\n    previousDisabled,\n    hasNextLevel,\n    levelControlAriaLabel,\n    withNext,\n    withPrevious,\n\n    // Other props\n    className,\n    yearLabelFormat,\n    classNames,\n    styles,\n    unstyled,\n    __staticSelector,\n    __stopPropagation,\n    size,\n    variant,\n    ...others\n  } = useComponentDefaultProps('YearLevel', defaultProps, props);\n\n  const { classes, cx } = useStyles(null, {\n    name: ['YearLevel', __staticSelector],\n    classNames,\n    styles,\n    unstyled,\n    size,\n    variant,\n  });\n\n  const ctx = useDatesContext();\n\n  const stylesApiProps = {\n    __staticSelector: __staticSelector || 'YearLevel',\n    classNames,\n    styles,\n    unstyled,\n    size,\n    variant,\n  };\n\n  const _nextDisabled =\n    typeof nextDisabled === 'boolean'\n      ? nextDisabled\n      : maxDate\n      ? !dayjs(year).endOf('year').isBefore(maxDate)\n      : false;\n\n  const _previousDisabled =\n    typeof previousDisabled === 'boolean'\n      ? previousDisabled\n      : minDate\n      ? !dayjs(year).startOf('year').isAfter(minDate)\n      : false;\n\n  return (\n    <Box className={cx(classes.yearLevel, className)} data-year-level ref={ref} {...others}>\n      <CalendarHeader\n        label={\n          typeof yearLabelFormat === 'function'\n            ? yearLabelFormat(year)\n            : dayjs(year)\n                .locale(locale || ctx.locale)\n                .format(yearLabelFormat)\n        }\n        className={classes.calendarHeader}\n        __preventFocus={__preventFocus}\n        __stopPropagation={__stopPropagation}\n        nextIcon={nextIcon}\n        previousIcon={previousIcon}\n        nextLabel={nextLabel}\n        previousLabel={previousLabel}\n        onNext={onNext}\n        onPrevious={onPrevious}\n        onLevelClick={onLevelClick}\n        nextDisabled={_nextDisabled}\n        previousDisabled={_previousDisabled}\n        hasNextLevel={hasNextLevel}\n        levelControlAriaLabel={levelControlAriaLabel}\n        withNext={withNext}\n        withPrevious={withPrevious}\n        {...stylesApiProps}\n      />\n\n      <MonthsList\n        year={year}\n        locale={locale}\n        minDate={minDate}\n        maxDate={maxDate}\n        monthsListFormat={monthsListFormat}\n        getMonthControlProps={getMonthControlProps}\n        __getControlRef={__getControlRef}\n        __onControlKeyDown={__onControlKeyDown}\n        __onControlClick={__onControlClick}\n        __onControlMouseEnter={__onControlMouseEnter}\n        __preventFocus={__preventFocus}\n        __stopPropagation={__stopPropagation}\n        withCellSpacing={withCellSpacing}\n        {...stylesApiProps}\n      />\n    </Box>\n  );\n});\n\nYearLevel.displayName = '@mantine/dates/YearLevel';\n"],"names":["forwardRef","useComponentDefaultProps","useStyles","useDatesContext","dayjs","React","Box","CalendarHeader","MonthsList"],"mappings":"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"}